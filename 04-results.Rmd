# Figures, tables, hosting GitBook

This section is going to focus including figures and creating tables

```{r methodsflow, echo=FALSE, out.width="100pt", fig.cap="Summary of methdological procedure for (a).... and (b)...."}
library(here)
knitr::include_graphics(here::here('general_images','example_flow.png'))
```
## Including figures and tables

### Figures

To include the figure above use the code `knitr::include_graphics(here::here('general_images','example_flow.png'))` within a code chunk. In the chunk options you can specify the width and figure captions e.g. `out.width="100pt", fig.cap="Summary of methdological procedure for (a).... and (b)...."`. However, if you do show the code with `echo=TRUE` then you can't specify the `out.width`. 

For making flow diagrams have a look at

1. Lucidchart
1. Draw.io

### Tables

For creating tables i'd suggest creating either an excel file or `.csv` and then reading the data into R and using the `kabble` package to format it how you wish. The example below is from the abbreviations section


```{r tableexample, echo=TRUE}
library(tidyverse)
library(knitr)
library(kableExtra)
library(readxl)
library(fs)
library(here)

#read in data
read_excel(here("tables", "abbreviations.xlsx"))%>%
  arrange(Term) %>% # i.e. alphabetical order by Term
  # booktab = T gives us a pretty APA-ish table
  knitr::kable(booktabs = TRUE)%>% 
  kable_styling(position = "center")%>%
  # any specifc row changes you want
    row_spec(.,
  row=0,
  bold = TRUE)
```

Here is a more advanced table from GIS assignment outline. Notice that in the excel file where i wanted the same data replicated in the table here (e.g. weeks 2 and 3) i simply copied it in a new cell - in other words each tow has all the information and then it's styled in R.

You do loads of things with kabble including adding small visulisations within the table - [consult the documentation for more info](https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html#Overview).

If in doubt, keep it simple.


```{r echo=TRUE, message=FALSE, cache=TRUE}
library(readxl)
library(kableExtra)
timeline <- read_excel(here('tables', 
                            'timeline.xlsx'))
kable(timeline, 
      align=(c('c', 'l')), 
      valign="middle") %>%
    kable_styling(bootstrap_options = c("striped", 
                                        "hover", 
                                        "condensed", 
                                        "responsive")) %>%
    row_spec(0, 
             align = "c") %>%
    column_spec(1, bold = T, 
                border_right = T) %>%
    collapse_rows(columns = 1:2)
```

## Hosting the book

You will need to create a new GitHub repository to host your book online using GitHub pages --- like the example is. GitHub pages takes a load of `.html` files and makes a website. 

To do so you need to set up a few things

1. Go to the `_bookdown.yml` file and make sue that that you have this line of code: `output_dir: docs` (it should be there)
1. In the same file make sure your `book_filename` doesn't have any spaces use `-` or `_` e.g. `CASA-Thesis`
1. Build your book locally
1. Save, stage changes, commit and then push to GitHub
1. On your GitHub repository > settings > GitHub pages > select the source as main and the folder as docs





